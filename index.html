<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR Building Interaction</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

      <!-- Маркер для всей сцены -->
      <a-marker preset="hiro">
        <!-- Модель здания 1 -->
        <a-entity id="building1"
          gltf-model="#model1"
          scale="0.5 0.5 0.5"
          position="-1 0 0"
          class="clickable"
        ></a-entity>

        <!-- Модель здания 2 -->
        <a-entity id="building2"
          gltf-model="#model2"
          scale="0.5 0.5 0.5"
          position="1 0 0"
          class="clickable"
        ></a-entity>

      </a-marker>

      <a-entity camera></a-entity>

      <!-- Модели зданий -->
      <a-assets>
        <a-asset-item id="model1" src="models/building1.glb"></a-asset-item>
        <a-asset-item id="model2" src="models/building2.glb"></a-asset-item>
      </a-assets>
    </a-scene>

    <script>
      // Функция для скрытия всех зданий
      function hideAllBuildings() {
        document.querySelectorAll('.clickable').forEach(building => {
          building.setAttribute('visible', false);
        });
      }

      // Функция для показа выбранного здания и увеличения его размера
      function showBuilding(buildingId) {
        const building = document.querySelector(buildingId);
        building.setAttribute('visible', true);
        building.setAttribute('scale', '1.5 1.5 1.5'); // Увеличение размера
      }

      // Обработчик клика по зданию
      document.querySelectorAll('.clickable').forEach(building => {
        building.addEventListener('click', function () {
          hideAllBuildings(); // Скрываем все здания
          showBuilding(`#${this.id}`); // Показываем выбранное здание
        });
      });
    </script>
  </body>
</html>
